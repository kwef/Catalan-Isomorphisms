<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Catalan</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Catalan.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Catalan</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Nat">Nat</a> <ul class="subs"><li>= <a href="#v:Z">Z</a>  </li><li>| <a href="#v:S">S</a> <a href="Catalan.html#t:Nat">Nat</a>  </li></ul></li><li class="src short"><span class="keyword">type family</span> <a href="#t:Plus">Plus</a> m n :: <a href="Catalan.html#t:Nat">Nat</a></li><li class="src short"><span class="keyword">data</span>  <a href="#t:NNPath">NNPath</a> height <span class="keyword">where</span><ul class="subs"><li><a href="#v:End">End</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> <a href="Catalan.html#v:Z">Z</a>  </li><li><a href="#v:U">U</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> m -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#v:S">S</a> m)  </li><li><a href="#v:D">D</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#v:S">S</a> m) -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> m  </li></ul></li><li class="src short"><a href="#v:-45-">(-)</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; (<a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> y) -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> y</li><li class="src short"><span class="keyword">type</span> <a href="#t:Dyck">Dyck</a> = <a href="Catalan.html#t:NNPath">NNPath</a> <a href="Catalan.html#v:Z">Z</a></li><li class="src short"><a href="#v:-124--43--124-">(|+|)</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> n -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> m -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#t:Plus">Plus</a> m n)</li><li class="src short"><span class="keyword">class</span>  <a href="#t:CutZ">CutZ</a> x  <span class="keyword">where</span><ul class="subs"><li><a href="#v:cut">cut</a> :: <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; (<a href="Catalan.html#t:NNPath">NNPath</a> x, <a href="Catalan.html#t:Dyck">Dyck</a>)</li></ul></li><li class="src short"><a href="#v:split">split</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; [<a href="Catalan.html#t:Dyck">Dyck</a>]</li><li class="src short"><a href="#v:tack">tack</a> ::  x -&gt; [x] -&gt; [x]</li><li class="src short"><a href="#v:bump">bump</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; <a href="Catalan.html#t:Dyck">Dyck</a></li><li class="src short"><span class="keyword">class</span>  <a href="#t:Catalan">Catalan</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="#v:toDyck">toDyck</a> :: a -&gt; <a href="Catalan.html#t:Dyck">Dyck</a></li><li><a href="#v:fromDyck">fromDyck</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; a</li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="#t:Tree">Tree</a>  = <a href="#v:Node">Node</a> [<a href="Catalan.html#t:Tree">Tree</a>]</li><li class="src short"><a href="#v:children">children</a> :: <a href="Catalan.html#t:Tree">Tree</a> -&gt; [<a href="Catalan.html#t:Tree">Tree</a>]</li><li class="src short"><span class="keyword">data</span>  <a href="#t:Dir">Dir</a> <ul class="subs"><li>= <a href="#v:Up">Up</a>  </li><li>| <a href="#v:Dn">Dn</a>  </li></ul></li><li class="src short"><a href="#v:plusDir">plusDir</a> :: Enum a =&gt; <a href="Catalan.html#t:Dir">Dir</a> -&gt; a -&gt; a</li><li class="src short"><a href="#v:isDyckList">isDyckList</a> :: [<a href="Catalan.html#t:Dir">Dir</a>] -&gt; Bool</li><li class="src short"><a href="#v:parseDyck">parseDyck</a> :: [<a href="Catalan.html#t:Dir">Dir</a>] -&gt; Maybe <a href="Catalan.html#t:Dyck">Dyck</a></li><li class="src short"><a href="#v:unparseNNPath">unparseNNPath</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; [<a href="Catalan.html#t:Dir">Dir</a>]</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Nat" class="def">Nat</a>  </p><div class="doc"><p>Natural numbers...
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Z" class="def">Z</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:S" class="def">S</a> <a href="Catalan.html#t:Nat">Nat</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type family</span> <a name="t:Plus" class="def">Plus</a> m n :: <a href="Catalan.html#t:Nat">Nat</a></p><div class="doc"><p>Type family allowing us to add natural numbers at the type level
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:NNPath" class="def">NNPath</a> height <span class="keyword">where</span></p><div class="doc"><p>NNPath (non-negative path) are paths consisting of up (U) and down (D) segments, which start at zero and never go below zero
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:End" class="def">End</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> <a href="Catalan.html#v:Z">Z</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:U" class="def">U</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> m -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#v:S">S</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:D" class="def">D</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#v:S">S</a> m) -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:NNPath" class="caption collapser" onclick="toggleSection('i:NNPath')">Instances</p><div id="section.i:NNPath" class="show"><table><tr><td class="src">Monoid <a href="Catalan.html#t:Dyck">Dyck</a></td><td class="doc"><p>This operation forms a monoid on Dyck paths only
</p></td></tr><tr><td class="src">Eq (<a href="Catalan.html#t:NNPath">NNPath</a> x)</td><td class="doc"><p>NNPaths are compared for equality lazily
</p></td></tr><tr><td class="src">Show (<a href="Catalan.html#t:NNPath">NNPath</a> x)</td><td class="doc"><p>The Show instance for NNPaths uses the (-) operator defined above, as it's more intuitive
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:-45-" class="def">(-)</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; (<a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> y) -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> y</p><div class="doc"><p>This operator lets you construct paths in a left-to-right manner, e.g. End-U-D-U-U-D-D
</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Dyck" class="def">Dyck</a> = <a href="Catalan.html#t:NNPath">NNPath</a> <a href="Catalan.html#v:Z">Z</a></p><div class="doc"><p>A Dyck path is a non-negative path ending at zero
</p></div></div><div class="top"><p class="src"><a name="v:-124--43--124-" class="def">(|+|)</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> n -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> m -&gt; <a href="Catalan.html#t:NNPath">NNPath</a> (<a href="Catalan.html#t:Plus">Plus</a> m n)</p><div class="doc"><p>Non-negative paths may be concatenated, resulting in another non-negative path
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:CutZ" class="def">CutZ</a> x  <span class="keyword">where</span></p><div class="doc"><p>Class to allow slicing paths at the zero crossing; used in split below
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:cut" class="def">cut</a> :: <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; (<a href="Catalan.html#t:NNPath">NNPath</a> x, <a href="Catalan.html#t:Dyck">Dyck</a>)</p></div><div class="subs instances"><p id="control.i:CutZ" class="caption collapser" onclick="toggleSection('i:CutZ')">Instances</p><div id="section.i:CutZ" class="show"><table><tr><td class="src"><a href="Catalan.html#t:CutZ">CutZ</a> <a href="Catalan.html#v:Z">Z</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Catalan.html#t:CutZ">CutZ</a> n =&gt; <a href="Catalan.html#t:CutZ">CutZ</a> (<a href="Catalan.html#v:S">S</a> n)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:split" class="def">split</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; [<a href="Catalan.html#t:Dyck">Dyck</a>]</p><div class="doc"><p>A Dyck path may be separated into a list of Dyck paths.
 This operation guarantees that each Dyck path in the resulting list will be a *prime* Dyck path (i.e. no zero-crossings other than start and end), but we don't yet have a way of meaningfully encoding this in the type system so that we can take advantage of it to type-safely implement an <a href="unbump.html">unbump</a> operation for prime Dyck paths.
</p><p>The following identities hold:
</p><pre> foldr1 (|+|) . split === id
</pre><pre> split . foldr1 (|+|) === id
</pre></div></div><div class="top"><p class="src"><a name="v:tack" class="def">tack</a> ::  x -&gt; [x] -&gt; [x]</p><div class="doc"><p>Tack an element onto the end of a list
</p></div></div><div class="top"><p class="src"><a name="v:bump" class="def">bump</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; <a href="Catalan.html#t:Dyck">Dyck</a></p><div class="doc"><p>Take a Dyck path and return it with an up before it and a down after it, thus bumping it upwards
</p></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:Catalan" class="def">Catalan</a> a  <span class="keyword">where</span></p><div class="doc"><p>Typeclass for things countable by Catalan numbers
</p><pre> toDyck . fromDyck === id
</pre><pre> fromDyck . toDyck === id
</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toDyck" class="def">toDyck</a> :: a -&gt; <a href="Catalan.html#t:Dyck">Dyck</a></p><p class="src"><a name="v:fromDyck" class="def">fromDyck</a> :: <a href="Catalan.html#t:Dyck">Dyck</a> -&gt; a</p></div><div class="subs instances"><p id="control.i:Catalan" class="caption collapser" onclick="toggleSection('i:Catalan')">Instances</p><div id="section.i:Catalan" class="show"><table><tr><td class="src"><a href="Catalan.html#t:Catalan">Catalan</a> <a href="Catalan.html#t:Tree">Tree</a></td><td class="doc"><p>Trees are isomorphic to Dyck paths
</p></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Tree" class="def">Tree</a>  </p><div class="doc"><p>Trees with any number of child nodes can be counted by Catalan numbers
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Node" class="def">Node</a> [<a href="Catalan.html#t:Tree">Tree</a>]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Tree" class="caption collapser" onclick="toggleSection('i:Tree')">Instances</p><div id="section.i:Tree" class="show"><table><tr><td class="src">Eq <a href="Catalan.html#t:Tree">Tree</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Catalan.html#t:Tree">Tree</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Catalan.html#t:Catalan">Catalan</a> <a href="Catalan.html#t:Tree">Tree</a></td><td class="doc"><p>Trees are isomorphic to Dyck paths
</p></td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:children" class="def">children</a> :: <a href="Catalan.html#t:Tree">Tree</a> -&gt; [<a href="Catalan.html#t:Tree">Tree</a>]</p><div class="doc"><p>Returns the list of children for a tree
</p></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Dir" class="def">Dir</a>  </p><div class="doc"><p>A direction is either up (Up) or down (Dn)
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Up" class="def">Up</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Dn" class="def">Dn</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Dir" class="caption collapser" onclick="toggleSection('i:Dir')">Instances</p><div id="section.i:Dir" class="show"><table><tr><td class="src">Eq <a href="Catalan.html#t:Dir">Dir</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Ord <a href="Catalan.html#t:Dir">Dir</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Catalan.html#t:Dir">Dir</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:plusDir" class="def">plusDir</a> :: Enum a =&gt; <a href="Catalan.html#t:Dir">Dir</a> -&gt; a -&gt; a</p><div class="doc"><p>Adds either 1 or -1 based on the direction given
</p></div></div><div class="top"><p class="src"><a name="v:isDyckList" class="def">isDyckList</a> :: [<a href="Catalan.html#t:Dir">Dir</a>] -&gt; Bool</p><div class="doc"><p>Determines if a list of directions constitutes a Dyck path
</p></div></div><div class="top"><p class="src"><a name="v:parseDyck" class="def">parseDyck</a> :: [<a href="Catalan.html#t:Dir">Dir</a>] -&gt; Maybe <a href="Catalan.html#t:Dyck">Dyck</a></p><div class="doc"><p>We can take a purely value-level, no-nonsense list of ordinary directions and (maybe) parse it into a Dyck path -- if and only if it represents a Dyck path. This uses the same tree-zipper technique used in implementing the fromDyck method of trees
</p><p>Note that (for Dyck paths ONLY -- other inputs yield bottom):
</p><pre> unparseNNPath . fromJust . parseDyck === id
</pre><pre> fromJust . parseDyck . unparseNNPath === id
</pre></div></div><div class="top"><p class="src"><a name="v:unparseNNPath" class="def">unparseNNPath</a> ::  <a href="Catalan.html#t:NNPath">NNPath</a> x -&gt; [<a href="Catalan.html#t:Dir">Dir</a>]</p><div class="doc"><p>Takes a non-negative path and unparses it, returning just a sequence of directions
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>